<% layout('layout') %>

<h2 class="mb-4">Welcome <%= user.name %></h2>

<h4>Your Appointments</h4>
<% if (appointments.length === 0) { %>
  <p>No appointments booked yet.</p>
<% } else { %>
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle shadow-sm">
      <thead class="table-light">
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Doctor</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <% appointments.forEach(app => { %>
          <tr>
            <td><%= app.date %></td>
            <td><%= app.time %></td>
            <td><%= app.doctorName %></td>
            <td><%= app.status || 'Pending' %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
<% } %>
